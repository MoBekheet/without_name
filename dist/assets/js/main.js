"use strict";var _this=void 0;function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _newArrowCheck(a,b){if(a!==b)throw new TypeError("Cannot instantiate an arrow function")}{var isMobile=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(isMobile=!0);var winSize,body=document.body,isVisible=!1,calcWinSize=function(){return _newArrowCheck(this,_this),winSize={width:window.innerWidth,height:window.innerHeight}}.bind(void 0);calcWinSize(),body.querySelector("main").style.paddingTop="".concat(body.querySelector("#backdrop").offsetHeight,"px"),body.querySelector("aside").style.top="".concat(body.querySelector("#backdrop").offsetHeight,"px"),body.querySelector("#backdrop #hamburger > a").addEventListener("click",function(){_newArrowCheck(this,_this);var a=TweenMax.to(body.querySelector("aside"),.5,{right:0,ease:Power1.easeInOut}).reverse();a.isActive()||(a.reversed(a.reversed()),TweenMax.to(body.querySelector("aside"),.5,{right:"-300px",ease:Power1.easeInOut}))}.bind(void 0)),window.addEventListener("resize",calcWinSize);var mousePos={x:winSize.width/2,y:winSize.height/2},getMousePos=function(a){_newArrowCheck(this,_this);var b=0,c=0;return a||(a=window.event),a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+body.scrollTop+document.documentElement.scrollTop),{x:b,y:c}}.bind(void 0);window.addEventListener("mousemove",function(a){return _newArrowCheck(this,_this),mousePos=getMousePos(a)}.bind(void 0));var Slide=function(){var b=Math.round;function a(){var a=this;this.DOM={navBar:body.querySelector("#backdrop"),site_of_the_day:body.querySelector("section#site_of_the_day"),items:site_of_the_day.querySelector("#items"),image:items.querySelectorAll(".item__img"),noteSite:_toConsumableArray(site_of_the_day.querySelectorAll(".box_noteSite > ul > li"))},this.items=[],_toConsumableArray(this.DOM.items.querySelectorAll(".item")).forEach(function(b){return _newArrowCheck(this,a),this.items.push(b)}.bind(this)),this.observer=new IntersectionObserver(function(b){var c=this;_newArrowCheck(this,a),b.forEach(function(a){return _newArrowCheck(this,c),this.isVisible=0<a.intersectionRatio}.bind(this))}.bind(this)),this.items.forEach(function(b){_newArrowCheck(this,a),this.observer.observe(b)}.bind(this)),this.displayItem(),this.openShow(),this.initEvents(),this.progressBar(),this.swiper()}var c=a.prototype;return c.initEvents=function initEvents(){var a=this;window.addEventListener("resize",function(){return _newArrowCheck(this,a),this.resize()}.bind(this)),body.querySelector("#close").addEventListener("click",function(){_newArrowCheck(this,a),this.closeShow(),isVisible=!1,TweenMax.to(this.DOM.items,1,{x:0,ease:Power1.easeOut}),TweenMax.to(this.DOM.image,1,{left:0,ease:Power1.easeOut})}.bind(this))},c.resize=function resize(){calcWinSize(),!1==isVisible&&this.displayItem(),this.openShow()},c.displayItem=function displayItem(){var a=this;TweenMax.to(this.items[0].querySelector(".mask_img"),0,{width:winSize.width/2}),this.items.forEach(function(b){_newArrowCheck(this,a),TweenMax.to(b,0,{delay:0,y:0,x:winSize.width,ease:Expo.easeInOut})}.bind(this)),TweenMax.to(this.items[0],0,{delay:0,scale:1.4,y:this.items[0].clientHeight/5.5,x:winSize.width-this.items[0].clientWidth,ease:Expo.easeInOut}),TweenMax.to(this.items[1],0,{scale:1.3,y:this.items[1].clientHeight/1.6,x:winSize.width-this.items[1].clientWidth*this.items.clientWidth,ease:Expo.easeInOut}),TweenMax.to(this.items[1].querySelector(".mask_img"),0,{boxShadow:"20px 12px 30px rgba(0, 0, 0, 0.28)"})},c.closeShow=function closeShow(){var a=this;this.items.forEach(function(b){_newArrowCheck(this,a),TweenMax.to(b,2.2,{delay:0,y:0,x:winSize.width,ease:Expo.easeInOut})}.bind(this)),TweenMax.to(this.items[0],2,{delay:0,scale:1.4,y:this.items[0].clientHeight/5.5,x:winSize.width-this.items[0].clientWidth,ease:Expo.easeInOut}),TweenMax.to(this.items[1],2,{scale:1.3,y:this.items[1].clientHeight/2.2,x:winSize.width-4.2*this.items[1].clientWidth,ease:Expo.easeInOut}),TweenMax.to(this.items[1].querySelector(".mask_img"),1,{boxShadow:"20px 12px 20px rgba(0, 0, 0, 0.40)",delay:.5}),TweenMax.to(this.items[0].querySelector(".mask_img"),1,{boxShadow:"20px 12px 30px rgba(0, 0, 0, 0)",width:winSize.width/2})},c.openShow=function openShow(){var a=this;this.DOM.site_of_the_day.querySelector("a.overlay").addEventListener("click",function(){var b=this;_newArrowCheck(this,a),this.items.forEach(function(a){_newArrowCheck(this,b);for(var c=0;2>c;c++)TweenMax.to(a,1.6,{delay:0,y:0,scale:1,x:0,ease:Expo.easeInOut}),TweenMax.to(this.items[0],1.4,{delay:0,scale:1,y:0,x:0,ease:Expo.easeInOut}),TweenMax.to(a.querySelector(".mask_img"),1.4,{boxShadow:"12px 15px 50px 0px rgba(0, 0, 0, 0.18)",delay:.55})}.bind(this)),setTimeout(function(){_newArrowCheck(this,b),this.swiper(),isVisible=!0}.bind(this),1200),this.DOM.noteSite.forEach(function(a,c){_newArrowCheck(this,b),TweenMax.from(".".concat(a.className),1.6,{ease:Back.easeOut,delay:.05*c,startAt:{y:"50%",opacity:0},y:"0%",opacity:1})}.bind(this))}.bind(this))},c.swiper=function swiper(){var a=this;this.DOM.site_of_the_day.addEventListener("mousemove",function(){if(_newArrowCheck(this,a),isVisible){var b=mousePos.x/body.clientWidth*this.DOM.items.clientWidth-this.DOM.items.clientWidth/3,c=45*(mousePos.x/body.clientWidth)-65,d=[-b];b=d[0],TweenMax.to(this.DOM.image,1,{left:c,ease:Power1.easeOut}),TweenMax.to(this.DOM.items,1,{x:b,ease:Power1.easeOut})}}.bind(this))},c.progressBar=function progressBar(){var a=this;this.DOM.noteSite.forEach(function(c,d){_newArrowCheck(this,a),TweenMax.to(".".concat(c.className.slice(8)),1.6,{ease:Back.easeOut,delay:.05*d,startAt:{y:"50%",opacity:0},y:"0%",opacity:1});var e=new ProgressBar.Circle(".".concat(c.className.slice(8)),{color:"#aaa",strokeWidth:3,trailWidth:1,easing:"easeInOut",duration:1400,text:{autoStyleContainer:!1,alignToBottom:!0},from:{color:"#aaa",width:1},to:{color:"#f00",width:4},step:function step(a,c){c.path.setAttribute("stroke",a.color),c.path.setAttribute("stroke-width",a.width);var d=b(10*c.value());0===d?c.setText(""):c.setText(d)}});e.text.style.fontFamily="\"Raleway\", Helvetica, sans-serif",e.text.style.fontSize="2rem",e.animate(.9)}.bind(this))},a}(),Cursor=function(){var b=Math.round;function a(){var a=this;this.DOM={cursor:body.querySelector("#cursor"),circle:cursor.querySelector("#circle"),title:cursor.querySelector("#title"),dot:cursor.querySelector("#dot")},this.boundsCircle=this.DOM.circle.getBoundingClientRect(),this.boundsDot=this.DOM.dot.getBoundingClientRect(),this.renderedStyles={txc:{previous:0,current:0,amt:.2},tyc:{previous:0,current:0,amt:.2},txd:{previous:0,current:0,amt:1},tyd:{previous:0,current:0,amt:1},scale:{previous:1,current:1,amt:.2},scaleDot:{previous:1,current:1,amt:.2},color:{value:"#2a2a2a"}},this.initEvents(),requestAnimationFrame(function(){return _newArrowCheck(this,a),this.render()}.bind(this)),_toConsumableArray(body.querySelectorAll("a.link, button.link, .item.link")).forEach(function(c){var d=this;_newArrowCheck(this,a),c.addEventListener("mouseenter",function(a){_newArrowCheck(this,d);b(mousePos.x/body.clientWidth);this.DOM.title.querySelector("h4").innerHTML=a.target.getAttribute("data-hover"),this.enter()}.bind(this)),c.addEventListener("mouseleave",function(){return _newArrowCheck(this,d),this.leave()}.bind(this)),c.addEventListener("click",function(){return _newArrowCheck(this,d),this.click()}.bind(this))}.bind(this)),_toConsumableArray(body.querySelectorAll(".dislink")).forEach(function(b){var c=this;_newArrowCheck(this,a),b.addEventListener("mouseenter",function(a){_newArrowCheck(this,c),this.DOM.title.querySelector("h4").innerHTML=a.target.getAttribute("data-hover")}.bind(this))}.bind(this))}var c=a.prototype;return c.initEvents=function initEvents(){var a=this;window.addEventListener("resize",function(){return _newArrowCheck(this,a),this.resize()}.bind(this))},c.resize=function resize(){},c.lerp=function lerp(c,a,b){return(1-b)*c+b*a},c.render=function render(){var a=this;for(var b in this.renderedStyles.txc.current=mousePos.x-this.boundsCircle.width/2,this.renderedStyles.tyc.current=mousePos.y-this.boundsCircle.height/2,this.renderedStyles.txd.current=mousePos.x-this.boundsDot.width/2,this.renderedStyles.tyd.current=mousePos.y-this.boundsDot.height/2,this.renderedStyles)this.renderedStyles[b].previous=this.lerp(this.renderedStyles[b].previous,this.renderedStyles[b].current,this.renderedStyles[b].amt);this.DOM.circle.style.transform="translateX(".concat(this.renderedStyles.txc.previous,"px) translateY(").concat(this.renderedStyles.tyc.previous,"px) scale(").concat(this.renderedStyles.scale.previous,")"),this.DOM.dot.style.transform="translateX(".concat(this.renderedStyles.txd.previous,"px) translateY(").concat(this.renderedStyles.tyd.previous,"px) scale(").concat(this.renderedStyles.scaleDot.previous,")"),this.DOM.dot.style.backgroundColor=this.renderedStyles.color.value,this.DOM.title.style.transform="translateX(".concat(this.renderedStyles.txc.previous,"px) translateY(").concat(this.renderedStyles.tyc.previous,"px)"),requestAnimationFrame(function(){return _newArrowCheck(this,a),this.render()}.bind(this))},c.enter=function enter(){this.renderedStyles.scaleDot.current=4,this.renderedStyles.scale.current=1.9,this.renderedStyles.color.value="#fff",TweenMax.to(this.DOM.title,.2,{opacity:1,ease:Back.easeOut})},c.leave=function leave(){this.renderedStyles.color.value="#2a2a2a",this.renderedStyles.scaleDot.current=1,this.renderedStyles.scale.current=1,TweenMax.to(this.DOM.title,.1,{opacity:0,ease:Back.easeOut})},c.click=function click(){this.renderedStyles.scale.previous=.4},a}();new Cursor,new Slide}
//# sourceMappingURL=main.js.map